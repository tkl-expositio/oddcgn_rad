<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>OpenLayers Basic OSM Example</title>
    <link rel="stylesheet" href="style.css" type="text/css">
    <link rel="stylesheet" href="style2.css" type="text/css">
    <script src="http://openlayers.org/api/OpenLayers.js"></script>
    <!-- Overpass API fÃ¼r einfachere Layer -->
    <script src="http://overpass-api.de/overpass.js"></script>
    <script type="text/javascript">
        
    var map, layer;
    function init(){
    
    navigator.geolocation.getCurrentPosition(successCallback,
                                               errorCallback,
                                              {maximumAge:600000});

    function successCallback(position) {
              // By using the 'maximumAge' option above, the position
              // object is guaranteed to be at most 10 minutes old.
                        map.setCenter(
                new OpenLayers.LonLat(position.coords.longitude, position.coords.latitude).transform(
                    new OpenLayers.Projection("EPSG:4326"),
                    map.getProjectionObject()
                ), 15
                );
    }
    function errorCallback(error) {
              // Update a div element with error.message.
            }


            map = new OpenLayers.Map( 'map');
            layer = new OpenLayers.Layer.OSM( "Simple OSM Map");
            map.addLayer(layer);
            // make_layer aus overpass_api -> alles nodes mit surface tag
            map.addLayers([
              make_layer("http://overpass-api.de/api/interpreter?data=[timeout:1];node[surface](bbox);out+skel;(way[surface](bbox);node(w););out+skel;", "green")])
    
        }
    </script>
  </head>
  <body onload="init()">
    <h1 id="title">wegmarker.de</h1>



    <div id="map" class="smallmap"></div>


  </body>
</html>
